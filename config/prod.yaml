# Production Configuration - Non-Secret Values Only
# ==================================================
# SECRETS MUST BE IN Secret Manager or .env.local, NOT HERE

# Core Runtime
APP_ENV: prod
NODE_ENV: production

# URLs - Production domains (CONFIGURE THESE)
API_BASE_URL: https://api.sigmablox.com
PUBLIC_BASE_URL: https://www.sigmablox.com
WEBHOOK_UPSTREAM: webhook-service-768490904160.us-central1.run.app
# THEME_API_BASE_URL: https://api.sigmablox.com
THEME_SAM_VALIDATOR_URL: https://sam-validator.defensebuilders.workers.dev
SAM_VALIDATOR_URL: https://sam-validator.defensebuilders.workers.dev

# Ghost URLs
# GHOST_PUBLIC_URL: https://www.sigmablox.com
# GHOST_INTERNAL_URL: https://www.sigmablox.com

# OAuth Client
OAUTH_CLIENT_ID: PLACEHOLDER_OAUTH_CLIENT_ID_PROD
OAUTH_REDIRECT_URI: PLACEHOLDER_PROD_PUBLIC_URL/auth/callback

# OIDC - Production
MC_OAUTH_CLIENT_ID: mc-web-prod
OIDC_CLIENT_ID: sigmablox-web-prod
OIDC_REDIRECT_URI: https://www.sigmablox.com/auth/callback

# OAuth Client
OAUTH_CLIENT_ID: VsCbcc6DuDjFV5aKzXPpSc4UKACuonWOvk6O9iyc
OAUTH_REDIRECT_URI: https://www.sigmablox.com/auth/callback

# MongoDB
MONGODB_DB_NAME: defense_builders_mc
# MONGODB_DB_NAME: sigmablox_users

# Ghost - MUST use MySQL in production
# GHOST_DB_CLIENT: mysql
# GHOST_DB_HOST: 127.0.0.1  # Cloud SQL via proxy
# GHOST_DB_PORT: 3306
# GHOST_DB_NAME: ghost
# GHOST_DB_USER: ghost
# GHOST_AUTHOR_DEFAULT_ROLE: Contributor

# SMTP - Production
SMTP_HOST: smtp.gmail.com
SMTP_PORT: 587
SMTP_USER: gus@mergecombinator.com
SMTP_SECURE: true

# Ghost mail (Ghost expects mail__* keys)
mail__transport: SMTP
mail__options__host: smtp.gmail.com
mail__options__port: 587
mail__options__secure: "false"
mail__from: gus@mergecombinator.com

# Ensure Ghost does NOT try SMTP AUTH locally
mail__options__auth__user: gus@mergecombinator.com

# CORS - Production origins
ALLOWED_ORIGINS: https://www.sigmablox.com,https://sigmablox.com,https://api.sigmablox.com

# Security - Strict production settings
SESSION_COOKIE_SECURE: true
SESSION_COOKIE_DOMAIN: .sigmablox.com
CSRF_TRUSTED_ORIGINS: https://www.sigmablox.com,https://sigmablox.com
TRUST_PROXY: true

# Turnstile
TURNSTILE_SITE_KEY: 0x4AAAAAACLB7AvgydG3i6FP

# GCP / Cloud Run Settings
PROJECT_ID: sigmablox
REGION: us-central1
ZONE: us-central1-a