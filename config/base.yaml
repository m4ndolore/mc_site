# Base Configuration - Shared Across All Environments
# ==================================================
# NO SECRETS ALLOWED IN THIS FILE
# This file contains common non-secret defaults for the MC Platform

# Core Runtime
NODE_ENV: development

# Application
PORT: 2000 #overridden to 3001 in production

# Ghost CMS - Database
GHOST_DB_CLIENT: sqlite3  # Overridden to mysql in production

# MongoDB
MONGODB_DB_NAME: sigmablox

THEME_SAM_VALIDATOR_URL: https://sam-validator.defensebuilders.workers.dev  #theme?
SAM_VALIDATOR_URL: https://sam-validator.defensebuilders.workers.dev  #(webhook/backend)
SUPABASE_URL:  postgresql://postgres:[SUPABASE_PASSWORD]@db.eenlzgwfnnsgxfurngaf.supabase.co:5432/postgres

# MongoDB - MUST BE CONFIGURED
MONGODB_DB_NAME: defense_builders_mc

# Third-Party Services
SAM_VALIDATOR_URL: https://sam-validator.defensebuilders.workers.dev

# Cloudflare
CF_ACCESS_TEAM_DOMAIN: https://mergecombinator.cloudflareaccess.com
CF_ACCESS_AUDIENCE: 7cfb1b0d553a440a7fb79adb3055baad2a085613a432d25cd59132c650f2decc
CF_ACCESS_CLIENT_ID: 9695c747a03a1e2c59db9f0f8b635fca.access
CF_IMAGE_ACCOUNT_ID: e329d5d08803656fa4607d11cf18e033

# Auth Guard
AUTH_GUARD_CF_CLIENT_ID: 9695c747a03a1e2c59db9f0f8b635fca.access

# GCP
GCP_PROJECT_ID: sigmablox

# Airtable (non-secret IDs)
AIRTABLE_COMPANIES_BASE_ID: appGFhooq5rKm7ZWQ
AIRTABLE_COACHES_BASE_ID: apprWHSd3CtcD4ZOE
AIRTABLE_COMPANIES_TABLE_NAME: Cohort 25-1
AIRTABLE_COACHES_TABLE_NAME: Warfighter CRM

# OAuth Endpoints (VIA/Authentik) - MUST BE CONFIGURED
# VIA = Verified Identity Access (Merge Combinator auth system)
OAUTH_AUTHORIZE_URL: https://via.mergecombinator.com/application/o/authorize/
OAUTH_TOKEN_URL: https://via.mergecombinator.com/application/o/token/
OAUTH_USERINFO_URL: https://via.mergecombinator.com/application/o/userinfo/
OAUTH_JWKS_URL: https://via.mergecombinator.com/application/o/defense-builders/jwks/
OAUTH_LOGOUT_URL: https://via.mergecombinator.com/application/o/defense-builders/end-session/
OAUTH_SCOPES: openid email profile groups

# BigQuery
BQ_DATASET: cohort251
BQ_TABLE: companies

# OIDC (also used by Cloudflare Worker - keep wrangler.toml [vars] in sync)
OIDC_ISSUER_URL: https://via.mergecombinator.com

# Admin Configuration
ADMIN_EMAIL: gus@mergecombinator.com
ADMIN_EMAILS: staff@mergecombinator.com
ADMIN_TIERS: admin,owner
ADMIN_LABELS: admin,owner

# Rate Limiting
RATE_LIMIT_WINDOW_MS: 900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS: 100

# Session & Security
SESSION_COOKIE_SECURE: true
TRUST_PROXY: false

# AI Content Assistant
AI_PROVIDER: perplexity
AI_MODEL: sonar-pro




